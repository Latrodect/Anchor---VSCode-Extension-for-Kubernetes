(()=>{"use strict";var e={800:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.analyzeCode=void 0;const a=r(t(496)),s=r(t(147));n.analyzeCode=function(){const e=a.window.activeTextEditor;if(!e)return void a.window.showErrorMessage("No active editor found.");const n={length:"",naming:"",strings:""},t=e.document,i={javascript:80,python:79,typescript:120};if(!i[t.languageId])return void a.window.showErrorMessage("Code analysis allow only TypeScript, Javascript, Python files.");const o=t.uri.fsPath;s.readFile(o,"utf-8",((e,r)=>{if(e)return void a.window.showErrorMessage("Error reading file: "+e.message);const c=r.split("\n"),l=c.filter((e=>e.length>i[t.languageId]));if(0===l.length?(n.length="No lines exceed the character limit.",a.window.showInformationMessage("No lines exceed the character limit.")):(n.length=`${l.length} lines exceed the character limit.`,a.window.showWarningMessage(`${l.length} lines exceed the character limit.`)),"javascript"===t.languageId){const e=[];for(let n=0;n<c.length;n++){const t=c[n],i=/\b(?:const|let|var)\s+([a-zA-Z][a-zA-Z0-9]*)\b/g;let o;for(;null!==(o=i.exec(t));){const t=o[1];/^[a-z][a-zA-Z0-9]*$/.test(t)&&e.push({name:t,line:n+1})}}if(0===e.length)n.naming="All variable names are in camelCase.",a.window.showInformationMessage("All variable names are in camelCase.");else{const t=e.map((e=>`${e.name} (Line ${e.line})`)).join(", ");n.naming=`Non-camelCase variables found: ${t}`,a.window.showWarningMessage(`Non-camelCase variables found: ${t}`)}let t=r;const i=/"(.*?)"/g;let l;for(;null!==(l=i.exec(r));){const e=l[0],n=e.replace(/"/g,"'");t=t.replace(e,n)}s.writeFile(o,t,"utf-8",(e=>{e?a.window.showErrorMessage("Error writing file: "+e.message):(n.naming="String literals with double quotes converted to single quotes.",a.window.showInformationMessage("String literals with double quotes converted to single quotes."))}))}}))}},318:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.generateDockerFiles=void 0;const s=r(t(496)),c=r(t(147)),l=r(t(17));function d(e,n){return a(this,void 0,void 0,(function*(){const t=l.dirname(e);yield c.promises.mkdir(t,{recursive:!0}),yield c.promises.writeFile(e,n)}))}function u(e,n){const t=l.join(e,n);try{if(c.statSync(t).isDirectory())return t}catch(e){s.window.showWarningMessage("Folder does not exist.")}}n.generateDockerFiles=function(){return a(this,void 0,void 0,(function*(){if(!s.workspace.workspaceFolders)return void s.window.showErrorMessage("No workspace is open.");const e=yield s.window.showInputBox({prompt:"Root of your project:",placeHolder:"Example Usage: D:/MyProject/src"}),n=yield s.window.showInputBox({prompt:"Your Apps:",placeHolder:"Example Usage(application folder names): frontned, backend, sync"});if(!n)return void s.window.showWarningMessage("Please specify at least one application path.");if(!e)return void s.window.showWarningMessage("Please provide root path.");const t=s.Uri.joinPath(s.workspace.workspaceFolders[0].uri,"docker");c.mkdirSync(t.fsPath,{recursive:!0});const i=s.Uri.joinPath(s.workspace.workspaceFolders[0].uri,"scripts");c.mkdirSync(i.fsPath,{recursive:!0});const o=n.split(",").map((e=>"../docker/"+e.trim()+"/Dockerfile")),r=`\n#!/bin/bash\n\n# Define the applications and their Dockerfile paths\nAPPLICATIONS=(${n})\nDOCKERFILES=("${o}")\n\n# Loop through each application and build the Docker image\nfor ((i=0; i<\${#APPLICATIONS[@]}; i++)); do\n    APP_NAME="\${APPLICATIONS[$i]}"\n    DOCKERFILE="\${DOCKERFILES[$i]}"\n    echo "Building Docker image for $APP_NAME..."\n    \n    # Check if the Dockerfile exists\n    if [ ! -f "$DOCKERFILE" ]; then\n        echo "Dockerfile not found for $APP_NAME."\n        continue\n    fi\n    \n    # Build the Docker image\n    docker build -t "$APP_NAME:latest" -f "$DOCKERFILE" .\n    \n    echo "Docker image for $APP_NAME built."\n    echo\ndone\n\necho "All Docker images built."\n`,a=l.join(i.fsPath,"docker_build_image.bash");yield d(a,r);const f=n.split(",").map((e=>e.trim()));for(const n of f){const i=s.Uri.joinPath(t,n);c.mkdirSync(i.fsPath,{recursive:!0});const o=u(e,n);if(o){const e=`\n                                        # Use a base image\n                                        FROM node:14\n\n                                        # Set the working directory inside the container\n                                        WORKDIR /app\n\n                                        # Install dependencies\n                                        RUN npm install\n\n                                        # Copy the rest of the application code to the container\n                                        COPY ${o} ./src/${n}\n\n                                        # Expose a port (if needed)\n                                        EXPOSE 3000\n\n                                        # Specify the command to run when the container starts\n                                        CMD ["npm run start"]\n                                    `,t=l.join(i.fsPath,"Dockerfile");yield d(t,e)}}}))}},205:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.generateInlineCommands=void 0;const a=r(t(496)),s=t(187);n.generateInlineCommands=function(){const e=a.window.activeTextEditor;e?(e.selection.active.line,(0,s.generateInlineComments)(),a.window.showInformationMessage("Inline comment added.")):a.window.showErrorMessage("No active editor found. Please open the page you want to run.")}},873:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.generateKubernetesFiles=void 0;const s=r(t(496)),c=r(t(147)),l=r(t(17));function d(e,n){return a(this,void 0,void 0,(function*(){const t=l.dirname(e);yield c.promises.mkdir(t,{recursive:!0}),yield c.promises.writeFile(e,n)}))}n.generateKubernetesFiles=function(){return a(this,void 0,void 0,(function*(){if(!s.workspace.workspaceFolders)return void s.window.showErrorMessage("No workspace is open.");const e=yield s.window.showInputBox({prompt:"Your Deployment Files:",placeHolder:"frontend, backend, redis"});if(!e)return void s.window.showInformationMessage("Please specify atleast one deployment name.");const n=e.split(",").map((e=>e.trim())),t=s.Uri.joinPath(s.workspace.workspaceFolders[0].uri,"kubernetes");c.mkdirSync(t.fsPath,{recursive:!0});const i=s.Uri.joinPath(t,"namespaces");c.mkdirSync(i.fsPath,{recursive:!0});const o=s.Uri.joinPath(t,"deployments");c.mkdirSync(o.fsPath,{recursive:!0});const r=s.Uri.joinPath(t,"services");c.mkdirSync(r.fsPath,{recursive:!0});const u=s.Uri.joinPath(t,"ingess");c.mkdirSync(u.fsPath,{recursive:!0});const f=s.Uri.joinPath(t,"configmaps");c.mkdirSync(f.fsPath,{recursive:!0});const p=s.Uri.joinPath(t,"secrets");c.mkdirSync(p.fsPath,{recursive:!0});const h=s.Uri.joinPath(t,"jobs");c.mkdirSync(h.fsPath,{recursive:!0});const m="apiVersion: v1\nkind: Namespace\nmetadata:name: ${namespaceName}";c.writeFileSync(l.join(i.fsPath,"development.yaml"),m),c.writeFileSync(l.join(i.fsPath,"staging.yaml"),m),c.writeFileSync(l.join(i.fsPath,"production.yaml"),m);const w=n.map((e=>a(this,void 0,void 0,(function*(){const n=`\n          apiVersion: apps/v1\n          kind: Deployment\n          metadata:\n          name: ${e}\n          namespace: \n          # Add other deployment details here\n          `;yield d(l.join(o.fsPath,`${e}.yaml`),n);const t=`\n          apiVersion: v1\n          kind: Service\n          metadata:\n          name: ${e}-service\n          namespace: \n          spec:\n          selector:\n            app: ${e}\n          ports:\n            - protocol: TCP\n              port: 80\n              targetPort: 8080\n          `;yield d(l.join(r.fsPath,`${e}-service.yaml`),t);const i=`\n          apiVersion: networking.k8s.io/v1\n          kind: Ingress\n          metadata:\n          name: ${e}-ingress\n          namespace: \n          spec:\n          rules:\n            - host: ${e}.example.com\n              http:\n                paths:\n                  - path: /\n                    pathType: Prefix\n                    backend:\n                      service:\n                        name: ${e}-service\n                        port:\n                          number: 80\n          `;yield d(l.join(u.fsPath,`${e}-ingress.yaml`),i);const a=`\n          apiVersion: v1\n          kind: Secret\n          metadata:\n            name: ${e}-secret\n            namespace: \n          type: Opaque\n          data:\n            username: ${Buffer.from("my-username").toString("base64")}\n            password: ${Buffer.from("my-password").toString("base64")}\n          `;yield d(l.join(p.fsPath,`${e}-secret.yaml`),a);const s=`\n            apiVersion: v1\n            kind: ConfigMap\n            metadata:\n              name: ${e}-configmap\n              namespace: \n            data:\n              config.properties: |\n                key1=value1\n                key2=value2\n            `;yield d(l.join(f.fsPath,`${e}-configmap.yaml`),s)}))));yield Promise.all(w),s.window.showInformationMessage(`${n.length} deployment, service, and ingress files generated successfully.`)}))}},112:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.deactivate=n.activate=void 0;const s=r(t(496)),c=r(t(17)),l=t(800),d=t(205),u=t(318),f=t(873);function p(){return a(this,void 0,void 0,(function*(){const e=s.window.createWebviewPanel("backdoorUI","Backdoor UI",s.ViewColumn.One,{});e.webview.html=function(e){var n;const t="padding: 6px 12px; font-size: 16px; background-color:#313131; border-radius:7px; border:1px solid white; color:white; margin: 10px;",i=(null===(n=s.extensions.getExtension("Latrodect.backdoor"))||void 0===n?void 0:n.extensionPath)||"";return`\n        <!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} 'unsafe-inline'; script-src ${e.cspSource} 'unsafe-inline' 'unsafe-eval';">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>Backdoor Code Reviewer</title>\n        </head>\n        <body>\n            <div style="display:flex;">\n            <img src="${e.asWebviewUri(s.Uri.file(c.join(i,"images","png")))}" />\n            <h1>Backdoor Code Reviewer</h1>\n            </div>\n            <p>${e.asWebviewUri(s.Uri.file(c.join(i,"images","png")))}</p>\n            <p style="color:white;"> Backdoor is a free code reviewer assistant. It helps developers with AI support, increases code quality with highlighter and linter features.<p>\n            <br>\n            <hr>\n            <h2>Generate Kubernetes Deployment Files</h2>\n            <p style="color:white;"> Type CTRL + l for generate kubernetes deployment files. When you type this command input box will open. <br>Type your apps like backend, frontned with comma seperation. Enjoy.<p>\n            <button id="analyzeButton" style="${t}">Enable Code Analysis</button>\n            <button id="analyzeButton" style="${t}">Enable AI Support</button>\n            <button id="analyzeButton" style="${t}">Enable Highlighter</button>\n            <script src="${e.asWebviewUri(s.Uri.file(__dirname+"/script.js"))}"><\/script>\n        </body>\n        </html>\n    `}(e.webview)}))}n.activate=function(e){console.log("Backdoor extension is now active."),s.window.showInformationMessage("Important: Use CTRL + i for open extension UI."),e.subscriptions.push(s.commands.registerCommand("backdoor.analyzeCode",l.analyzeCode),s.commands.registerCommand("backdoor.generateInlineCommands",d.generateInlineCommands),s.commands.registerCommand("backdoor.generateDockerFiles",u.generateDockerFiles),s.commands.registerCommand("backdoor.backdoorDashboardInit",p),s.commands.registerCommand("backdoor.generateKubernetesFiles",f.generateKubernetesFiles))},n.deactivate=function(){console.log("Backdoor Code Reviewer extension is now deactivated.")}},187:function(e,n,t){var i=this&&this.__createBinding||(Object.create?function(e,n,t,i){void 0===i&&(i=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,o)}:function(e,n,t,i){void 0===i&&(i=t),e[i]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&i(n,e,t);return o(n,e),n},a=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}c((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.generateInlineComments=void 0;const s=r(t(496));n.generateInlineComments=function(){return a(this,void 0,void 0,(function*(){const e=s.window.activeTextEditor;if(!e)return void s.window.showErrorMessage("No active editor found.");const n=function(e){const n=e.selection;if(!n.isEmpty)return e.document.getText(n)}(e);n?function(e,n){const t=e.selection.end;e.edit((e=>{e.insert(t,"\n// Generated Comment: Axios will be added soon.")})),s.window.showInformationMessage("Comment generated and inserted.")}(e):s.window.showInformationMessage("No code is selected.")}))}},496:e=>{e.exports=require("vscode")},147:e=>{e.exports=require("fs")},17:e=>{e.exports=require("path")}},n={},t=function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={exports:{}};return e[i].call(r.exports,r,r.exports,t),r.exports}(112);module.exports=t})();